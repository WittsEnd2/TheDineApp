var date = new Date();
var month = date.getMonth(); 
console.log(month);
function getData(){
  var myFirebaseRef = new Firebase("https://sweltering-inferno-9361.firebaseio.com/");
  var authData = myFirebaseRef.getAuth();
  var userLoginId = authData.uid;
  var restaurantName = null;
  var restaurantAddress = null;
  var restaurantState;
  var restaurantMenu;
  var restaurantLunch;
  var restaurantBreakfast;
  var restaurantSales = [restaurantSalesLength];

  myFirebaseRef.child("users/UserId: "+userLoginId).on("value", function(snapshot){
    var findPost = snapshot.val();
    if(findPost.UserId === userLoginId){
      console.log("Successfuly Found!");
      restaurantName = findPost.restaurant;
      myFirebaseRef.child("restaurant/"+findPost.restaurant).on("value", function(snapshot){
        var restaurantPost = snapshot.val();
        if(restaurantPost.Name === findPost.restaurant){
          var restaurantAddress = restaurantPost.Address;
          var restaurantState = restaurantPost.State; 
          var restaurantMenu = restaurantPost.DinnerMenu;
          var restaurantLunch = restaurantPost.LunchMneu;
          var restaurantBreakfast = restaurantPost.BreakfastMenu;
          var restaurantSalesLength = Object.keys(restaurantPost.Sales).length;
          document.getElementById("dashboardTitle").innerHTML = findPost.restaurant;
          
        }
      });
      myFireBaseRef.child("restaurant/"+findPost.restaurant).on("child_changed", function(snapshot){
        var child_changed = snapshot.val();
        for(i = 0; i < Object.keys(child_changed.Sales).length; i++){
          console.log(child_added.Sales.key(i));
          var restaurantSales = [child_changed.Sales.key(i), child_changed.Sales.i]
        }
      });

    } else {
      console.log("Not Successfully found");
    } 
  },  function(errorObject){
    console.log(errorObject);
  });
}
function parseSales(){
  getData().restaurantSales; 


}
function loadDashboardChart(){     
  google.charts.load('current', {'packages':['corechart']});
  google.charts.setOnLoadCallback(drawChart);
  function drawChart() {
    var data = google.visualization.arrayToDataTable([
      getData.restaurantSales
    }
    ]);
    var options = {
      title: 'Company Performance',
      curveType: 'function',
      legend: { position: 'bottom' }
    };
    var chart = new google.visualization.LineChart(document.getElementById('curve_chart'));
    chart.draw(data, options);
  }
}
loadDashboardChart();
